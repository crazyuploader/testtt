os: linux
dist: bionic
language: bash
services:
  - docker

before_install:
  - docker pull ubuntu:latest
  - docker run -i -t ubuntu /bin/bash
install:
  - sudo apt-get update && sudo apt-get -y upgrade
  - sudo apt-get install openjdk-8-jdk git-core gnupg flex bison gperf build-essential zip curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 lib32ncurses5-dev x11proto-core-dev libx11-dev lib32z-dev libgl1-mesa-dev libxml2-utils xsltproc unzip python libssl-dev openssl
script: 
  - git clone --depth 1 https://github.com/nibaji/kernel_xiaomi_sdm660.git
  - mkdir toolchain && cd toolchain && git clone https://android.googlesource.com/platform/prebuilts/clang/host/linux-x86 
